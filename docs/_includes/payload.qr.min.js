const e="application/vnd.anecdote.worker",t="application/javascript";!(async function(){const a=e=>fetch(e,{cache:"no-store",credentials:"omit",mode:"cors"});await(async function(){const n=await a("https://anecdote.discoverywritten.com/.well-known/manifest.json"),c=await n.text(),o=JSON.parse(c);await(async function({meta:{node:n},candidates:c={},candidate_order:o=[],resources:s={},resource_order:r=[]}){async function i({strategy:o,uri:s,path:r,type:i}){const d=new File([await(async function(){if("dns"===o){const e=await a(n+s);return new Blob([await e.arrayBuffer()],{type:i})}})()],r,{type:i});let p=URL.createObjectURL(d);const f={"*":["link","href"],[t]:["script","src"],[e]:["script","src"]},[u,l]=f[i]||f["*"],w=document.createElement(u);switch(i){case e:URL.revokeObjectURL(p),p=n+s;case t:w.type="module";break;case"text/css":w.rel="stylesheet"}w[l]=p,w.id=r,document.head.appendChild(w),i===e&&navigator.serviceWorker.register(n+s,{type:"module",scope:c.dns})}for(const e of r)if(s[e])for(const t of o){if(!(t in c))continue;const{[t]:a=e}=s[e];await i({...s[e],uri:c[t]+a,path:a,strategy:t})}})(o)})()})();