const e="application/manifest+json",t="application/vnd.anecdote.worker",a="application/javascript";!(async function(){const n=e=>fetch(e,{cache:"no-store",credentials:"omit",mode:"cors"});await(async function(){const c=await n("https://anecdote.discoverywritten.com/.well-known/manifest.json"),s=await c.text(),i=JSON.parse(s);await(async function c({meta:{node:s},candidates:i={},candidate_order:r=[],resources:o={},resource_order:d=[]}){const l={type:"module",scope:i.dns},p={[t]:({uri:e})=>navigator.serviceWorker.register(s+e,l),[e]:async({file:e})=>c(JSON.parse(await e.text()))};async function u({strategy:c,uri:i,path:r,type:o}){const d=new File([await(async function(){if("dns"===c){const e=await n(s+i);return new Blob([await e.arrayBuffer()],{type:o})}})()],r,{type:o});let l=null,p=null;switch(o){case e:case t:case a:[kind,p]=["script","src"];break;default:[kind,p]=["link","href"]}const u=document.createElement(kind);switch(o){case t:l=s+i;case a:u.type="module";break;case e:u.type=o;break;case"text/css":u.rel="stylesheet"}return l||(l=URL.createObjectURL(d)),u[p]=l,u.id=r,document.head.appendChild(u),{strategy:c,uri:i,id:r,type:o,file:d,url:l}}for(const e of d)if(o[e])for(const t of r){if(!(t in i))continue;const{[t]:a=e}=o[e],n=await u({...o[e],uri:i[t]+a,path:a,strategy:t});p[n.type]?.(n)}})(i)})()})();